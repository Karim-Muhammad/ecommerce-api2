We can do more refactor

1. instead do rule for each route, we can do it based on logic

getSingleCategoryRule
getSingleProductRule

->

getSingleRule

<!--  -->

learn how to create catchAsync function
learn how to create AppError class
learn how to create handlerFactory function

see jonas code for reference (in github)
[code](https://github.com/sdmisra/SchmedtmannNodeCourse/blob/main/4-natours/after-section-14/controllers/userController.js)

[code](https://github.com/Boghdady/udemy-build-ecommerce-api-using-nodejs/blob/master/services/handlersFactory.js)

<!--  -->

What is `nested routes`
What is `populate` in mongoose
What is `mergeParams` in express router

<!--  -->
